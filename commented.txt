#include <iostream> // for input/output stream
#include <fstream> // for file stream
#include <conio.h> // for console input/output
#include <string.h> // for string manipulation functions
#include <iomanip> // for input/output manipulation
using namespace std; // use the standard namespace

class book{ // define a class named book
    char bno[6]; // book number
    char book_name[50]; // title of book
    char authName[20]; // author of book
  public:
    void create_book(){ // member function to create a book
        cout<<"\nNEW BOOK ENTRY...\n";
        cout<< "\nEnter Book Number : ";
        cin>>bno; // read book number from user
        cin.ignore()//to terminate the cin function
        cout<< "\n\nEnter Name of the Book : ";
        gets(book_name); // read book name from user
        cout<<"\n\nEnter Author's name : ";
        gets(authName); // read author name from user
        cout<<"\n\n\nBook Created..."; // display message that book has been created
    }

    void show_book(){ // member function to display a book's details
        cout<<"\nBook number : " << bno; // display book number
        cout<<"\nBook Name : ";
        puts(book_name); // display book name
        cout<<"Author Name : ";
        puts(authName); // display author name
    }    
    char* retbno(){ return bno; } // member function to return the book number
	
    void report(){cout<<bno<<setw(30)<<book_name<<setw(30)<<authName<<endl;} 
    // member function to display a report of the book's details

}; //end of class book

fstream f, f1; // define two file stream objects
book b; // define an object of class book

void write_book(){ // function to write a book to a file
    char ch;
    f.open("book.dat", ios::out|ios::app); 
    // open the file in output mode and append mode (add data to end of file)
    do{
        b.create_book(); 
        // call the create_book member function to create a new book object
        f.write((char*)&b, sizeof(book)); 
        // write the book object to the file
        cout<<"\n\nDo you want to add more books...(y/n?)";
        cin>>ch; 
        // ask user if they want to add more books and read their response
    }while( ch == 'y'|| ch == 'Y' ); 
    // continue adding books until user enters 'n' or 'N'
    f.close(); 
    // close the file stream when done adding books
}

void display_spb(char n[]){ 
// function to display a specific book's details based on its number
    cout<<"\nBOOK DETAILS\n";
    int flag = 0;
    f.open("book.dat", ios::in); 
    // open the file in input mode (read data from file)
    while(f.read((char*)&b, sizeof(book))){ 
    // read each book object from the file until end of file is reached
        if( strcmpi(b.retbno(),n) == 0 ){ 
        // if the current book's number matches the specified number,
            b.show_book(); 
            // call the show_book member function to display its details
            flag = 1;
            break;
        }
    }

    f.close(); 
    // close the file stream when done reading data from it
    if(flag==0) cout<<"\n\nBook does not exist"; 
    getch();
}

void display_allb(){ 
// function to display all books' details
    
    f.open("book.dat", ios::in); 
    if(!f){
        cout<<"ERROR!!! FILE COULD NOT BE OPEN ";
        getch();
        return;
    }
    
    cout<<"\n\n\t\tBook LIST\n\n";
    cout<<"Book Number"<<setw(20)<<"Book Name"<<setw(25)<<"Author\n";
    
    while(f.read((char*)&b, sizeof(book))) b.report();
     f.close();
     getch();
}

void delete_book(){ 
// function to delete a specific book based on its number
    char n[6];
    
    cout<<"\n\n\n\tDELETE BOOK ...";
    cout<<"\n\nEnter Book number of Book to Delete : ";

